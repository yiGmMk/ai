<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
    <channel>
        <title>Supabase on AI</title>
        <link>https://ai.programnotes.cn/tags/supabase/</link>
        <description>Recent content in Supabase on AI</description>
        <generator>Hugo -- gohugo.io</generator>
        <language>zh-CN</language>
        <lastBuildDate>Tue, 03 Jun 2025 00:00:00 +0000</lastBuildDate><atom:link href="https://ai.programnotes.cn/tags/supabase/index.xml" rel="self" type="application/rss+xml" /><item>
        <title>用n8n做AI工作流驱动网站出海赚美金1：连接Supabase数据库</title>
        <link>https://ai.programnotes.cn/p/%E7%94%A8n8n%E5%81%9Aai%E5%B7%A5%E4%BD%9C%E6%B5%81%E9%A9%B1%E5%8A%A8%E7%BD%91%E7%AB%99%E5%87%BA%E6%B5%B7%E8%B5%9A%E7%BE%8E%E9%87%911%E8%BF%9E%E6%8E%A5supabase%E6%95%B0%E6%8D%AE%E5%BA%93/</link>
        <pubDate>Tue, 03 Jun 2025 00:00:00 +0000</pubDate>
        
        <guid>https://ai.programnotes.cn/p/%E7%94%A8n8n%E5%81%9Aai%E5%B7%A5%E4%BD%9C%E6%B5%81%E9%A9%B1%E5%8A%A8%E7%BD%91%E7%AB%99%E5%87%BA%E6%B5%B7%E8%B5%9A%E7%BE%8E%E9%87%911%E8%BF%9E%E6%8E%A5supabase%E6%95%B0%E6%8D%AE%E5%BA%93/</guid>
        <description>&lt;ul&gt;
&lt;li&gt;使用n8n连接Supabase数据库，实现网站数据的后端处理。&lt;/li&gt;
&lt;li&gt;通过n8n工作流提交新网站，并利用AI自动解析网站信息。&lt;/li&gt;
&lt;li&gt;将Python后端转换为n8n工作流，降低开发和运营成本。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;源自&lt;/strong&gt; |  饼干哥哥饼干哥哥AGI 2025-06-03 17:57&lt;/p&gt;
&lt;p&gt;年初的时候我做了一个AI编程工具的导航网站，打算流量上来后就可以接谷歌广告赚美金：&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://www.aicoding.help/cn&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://www.aicoding.help/cn&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;设想是根据AI编程开发的流程来推荐每个阶段的效率工具：
灵感与想法、原型与设计、编程开发、数据库与存储、部署上线、扩展能力、数据分析、内容管理、协作与运营&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://ai.programnotes.cn/img/ai/3582f9319fd5b77af17475d08f4cc7e3.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;Image&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;目前挂在了vercel上，感兴趣可以去看看，但实际上还有很多问题，待一步一步解决。&lt;/p&gt;
&lt;p&gt;具体这个网站是怎么做的，可以参考之前的文章，基于Tap4AI项目：&lt;a class=&#34;link&#34; href=&#34;https://mp.weixin.qq.com/s?__biz=MjM5NDI4MTY3NA==&amp;amp;mid=2257491207&amp;amp;idx=1&amp;amp;sn=5af373cc431a810400003eb641ffea1d&amp;amp;scene=21#wechat_redirect&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;2025穷鬼开发套餐：不花一分钱，部署一个AI导航网站全流程，附tap4ai、aigotools 对比&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;这个导航网站分成两部分&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;前端页面的展示，主要痛点就是怎么把网站设计的好看且合理&lt;/li&gt;
&lt;li&gt;后端数据的处理，
前端页面其实不存数据，每次用户打开网站的时候，都是直接从数据库里读数据的
这样的好处就是维护方便，因为前端页面要改的话是要重新部署上线的，很麻烦。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;例如我数据库用的是Supabase，如果哪个内容写错了，我只需要对Supabase里的内容进行修改就行了，有新网站也可以直接在数据库里添加即可。&lt;/p&gt;
&lt;p&gt;所以，目前这个网站的工作量在于后端，看着简单其实挺麻烦的，日常运营有以下几个动作：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;提交新的网站&lt;/li&gt;
&lt;li&gt;爬虫，去爬新的网站，截图，AI生成相应的描述&lt;/li&gt;
&lt;li&gt;把描述翻译成多个语言，例如我至少是中英日&lt;/li&gt;
&lt;li&gt;写SEO文章，让谷歌收录&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;具体可以看这个图：&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://ai.programnotes.cn/img/ai/a2392dd327f28e94ce4a182de8d538d6.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;Image&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;目前这个后端是真的离谱，有一个单独的Python项目来跑，实在是太重了。&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://ai.programnotes.cn/img/ai/19e3872f72c95362b7731794afb4d49b.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;Image&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;因为最近都在玩n8n，而且n8n对接的都是海外的服务，很适合出海做后端服务。&lt;/p&gt;
&lt;p&gt;我在想是不是可以把这个Python后端转成n8n的工作流呢？&lt;/p&gt;
&lt;p&gt;说干就干，一步一步来。&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://ai.programnotes.cn/img/ai/7c1b0157ef29a03ba94ed758d2989d32.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;Image&#34;
	
	
&gt;&lt;/p&gt;
&lt;h2 id=&#34;需求拆解&#34;&gt;需求拆解
&lt;/h2&gt;&lt;p&gt;首先，解决第一步：提交新网站的需求。&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://ai.programnotes.cn/img/ai/0874cffc7db9b81d2070365f31168b22.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;Image&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;在数据库，我有一个submit表，用户提交网站请求后，会插入到这里，包含名称、网址、分类、描述等字段，状态status是0&lt;/p&gt;
&lt;p&gt;等爬虫把这网站爬完，处理好数据后，状态会更新为1，证明处理完了。&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://ai.programnotes.cn/img/ai/45975a7dbcc6969150f9afeb91a03f9e.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;Image&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;目前这一步我是很苦逼的自己写了个python脚本来手动插入数据的。&lt;/p&gt;
&lt;p&gt;今天我们就来解决这个问题：通过n8n工作流提交网站到数据库supabase&lt;/p&gt;
&lt;h2 id=&#34;n8n连接supabase&#34;&gt;n8n连接Supabase
&lt;/h2&gt;&lt;p&gt;首要任务就是让n8n连上Supabase,但在此之前，需要先找到两个关键的key：&lt;/p&gt;
&lt;p&gt;在Supabase的Project Settings里找到API Keys，下面的service_role secret&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://ai.programnotes.cn/img/ai/306613b3d3e517ba1db019e804c11d42.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;Image&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;同个目录的General找到Project ID&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://ai.programnotes.cn/img/ai/e6f0946f8d2a5f348a45ecc991aa3b83.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;Image&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;接着就可以回到n8，创建一个Supabase的Create a row节点&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://ai.programnotes.cn/img/ai/406c91c03634ce3448b563c7618d8840.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;Image&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;老规矩，先新建一个Credential，然后把前面找到的两个信息填入其中Host，一般就是你的proejct id + supabase.co 后缀，如下图。&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://ai.programnotes.cn/img/ai/46c6287d4acf8570dad8a24ca0174c55.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;Image&#34;
	
	
&gt;&lt;/p&gt;
&lt;h2 id=&#34;用例测试&#34;&gt;用例测试
&lt;/h2&gt;&lt;p&gt;测试一下，假设我们要提交bolt.new这个全栈AI开发网站&lt;/p&gt;
&lt;p&gt;配置对应的信息&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Name: bolt.new&lt;/li&gt;
&lt;li&gt;Url: https://bolt.new/&lt;/li&gt;
&lt;li&gt;Category: 编程开发&lt;/li&gt;
&lt;li&gt;remark：Bolt is an in-browser AI web development agent for full stack web application development.
只要前面连接成功的话，这里就会自动从supabase中获取表格结构，你只需要去选字段就好了，非常方便&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;如下图，n8n表示测试成功&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://ai.programnotes.cn/img/ai/6bcf9b0323b9ebfa0df2d76d6a733c2b.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;Image&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;同时，在supabase里也能看到，多了一行。&lt;/p&gt;
&lt;h2 id=&#34;完成工作流&#34;&gt;完成工作流
&lt;/h2&gt;&lt;p&gt;在正式开发工作流之前，要先想清楚自己想要的产品是什么样子的。&lt;/p&gt;
&lt;p&gt;例如当前这个项目，我想要的是：只要给一个网站，AI就能自动判断它是什么，并给出对应的信息，进而插入到Supabase表的位置。&lt;/p&gt;
&lt;p&gt;这样拆解下来，就需要做：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;AI从用户给的信息中解析出网址&lt;/li&gt;
&lt;li&gt;判断用户有没给更多信息，例如名称、描述、分类&lt;/li&gt;
&lt;li&gt;如果没有，则访问该网址，判断是什么，生成名称、描述、分类&lt;/li&gt;
&lt;li&gt;对结果进行结构化输出&lt;/li&gt;
&lt;li&gt;传入到supabase的submit表&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;先看效果：&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://ai.programnotes.cn/img/ai/e0431bf5918c71d2242610df3cef178c.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;Image&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;现在我只给一个魔塔社区的网站 &lt;a class=&#34;link&#34; href=&#34;https://www.modelscope.cn/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://www.modelscope.cn/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;就能看到AI Agent调用了Jina AI的工具去读网址，并且根据要求输出了格式&lt;/p&gt;
&lt;p&gt;接下来看每个节点。
 
新建一个AI Agent节点：&lt;/p&gt;
&lt;p&gt;对接上前面的用户对话框里的输入&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://ai.programnotes.cn/img/ai/3efc66f814209772cf22bf95b6448db0.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;Image&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;参考提示词：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;我在给一个AI编程工具导航网站提交新的网站录用，需要你从用户给的信息中提取出以下内容：
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;```json
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;{        
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &amp;#34;name&amp;#34;:&amp;#34;这个网站工具的名称&amp;#34;,        
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &amp;#34;Url&amp;#34;:&amp;#34;这个网站的网址&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &amp;#34;Category&amp;#34;:&amp;#34;分类，只能从 灵感与想法、原型与设计、编程开发、数据库与存储、部署上线、扩展能力、数据分析、内容管理、协作与运营 中选择一个&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &amp;#34;remark&amp;#34;:&amp;#34;这个网站工具的简单介绍不超过50字&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;```
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;更具体的，你需要做：
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;1. AI从用户给的信息中解析出网址
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;2. 判断用户有没给更多信息，例如名称、描述、分类
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;3. 如果没有更多信息，则要调用工具`jina AI reader`访问该网址，根据返回内容判断这网站是什么，生成名称、描述、分类
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;4. 对结果进行结构化输出
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;可以看到这个AI Agent还是挺能配置的，这就是n8n的优势，非常自由&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://ai.programnotes.cn/img/ai/c311a7cb130cf58e5ff4e0401bc7db35.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;Image&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;在工具Tool的部分，配置一个Jina AI工具，这是一个能帮助我们读取网址内容的工具&lt;/p&gt;
&lt;p&gt;很简单，用谷歌登录一下就有key了&lt;/p&gt;
&lt;p&gt;如下图，URL这里可以让大模型自己去判断&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://ai.programnotes.cn/img/ai/8cbecbbec3e399645ed001f815caa5f6.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;Image&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;格式化输出这里给个例子就行&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://ai.programnotes.cn/img/ai/b3d1217f9a64ac588ec3dab12dce7641.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;Image&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;接着就可以连上Supabase节点了，把AI拆解好的内容分到对应位置：&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://ai.programnotes.cn/img/ai/f72e62bcd093fc005fc2d4cad53bb4dc.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;Image&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;非常简单！！&lt;/p&gt;
&lt;p&gt;不过每次要打开n8n工作流里面去提交就太麻烦了，我们可以用n8n内置的表单功能&lt;/p&gt;
&lt;p&gt;新建一个表单&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://ai.programnotes.cn/img/ai/f4b0a255590ff71fef88cc26857501a6.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;Image&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;设置好需要的参数：&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://ai.programnotes.cn/img/ai/d6af40a203da5f583e87ef9962f394a6.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;Image&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;执行的时候，就自动生成好了一个表单网站了&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://ai.programnotes.cn/img/ai/da0ec096e53b35bc14f8e97a0e3ced32.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;Image&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;因为新增了一个表单，传入到AI节点的数据结构不同了，所以我就添加了几个数据处理节点，最终同样也能向数据库提交数据。&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://ai.programnotes.cn/img/ai/edd1a32ad6edb85a9e2fa6b0d9f2bed1.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;Image&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;至此，我们就完成了第一阶段的改造，把原先通过Python提交网站的功能，变成了n8n的工作流，并且可以通过表单的形式提交；
甚至后面可以改成webhook的监听，或者改造成mcp，更加自由的添加网站。&lt;/p&gt;
&lt;p&gt;可玩性非常高！！&lt;/p&gt;
&lt;p&gt;接下来会继续更新用n8n驱动网站出海赚美金系列，帮助大家用n8n降低开发和运营成本。&lt;/p&gt;
&lt;p&gt;感兴趣的可以关注公众号「饼干哥哥AGI」，后台回复「AI交流群」&lt;/p&gt;
</description>
        </item>
        
    </channel>
</rss>
