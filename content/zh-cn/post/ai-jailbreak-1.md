---
title: "20步内越狱任意大模型！更多“奶奶漏洞”全自动发现"
date: "2023-11-05"
tags: ["大模型", "越狱", "AI安全", "PAIR算法", "漏洞"]
categories: ["人工智能", "安全"]
description: "研究揭示了一种新的AI越狱方法，仅需20步以内即可攻破多个大模型，包括GPT-4。"
author: "西风"
image: ""
---

**核心内容:**
- PAIR算法通过两个黑盒模型的互动，实现AI自动攻陷AI，绕过安全限制。
- 该方法无需人工参与，效率比传统token攻击提高5个量级，且攻击可解释性强。
- 实验表明，PAIR算法能成功越狱包括GPT-3.5、GPT-4、Vicuna、PaLM-2等多个大模型，成功率高达60-100%。

**源自** |  量子位   2023-11-05 12:32  
  
1分钟不到、20步以内“越狱”任意大模型，绕过安全限制！  
  
而且不必知道模型内部细节——  
  
只需要两个**黑盒模型**互动，就能让AI全自动攻陷AI，说出危险内容。  
  
![](https://ai.programnotes.cn/img/ai/818e202aee8e182094463d506d2c3e0e.png)  
  
听说曾经红极一时的“奶奶漏洞”已经被修复了:  
  
![](https://ai.programnotes.cn/img/ai/d16459758bbc4b405c7e337d807393d6.jpeg)  
  
那么现在搬出“侦探漏洞”、“冒险家漏洞”、“作家漏洞”，AI又该如何应对？  
  
![](https://ai.programnotes.cn/img/ai/bc7e8ca1015bdbb71e80c88f4a13a188.png)  
  
一波猛攻下来，GPT-4也遭不住，直接说出要给供水系统投毒只要……这样那样。  
  
关键这只是宾夕法尼亚大学研究团队晒出的一小波漏洞，而用上他们最新开发的算法，AI可以自动生成各种攻击提示。  
  
研究人员表示，这种方法相比于[现有的GCG等基于token的攻击方法](http://mp.weixin.qq.com/s?__biz=MzIzNjc1NzUzMw==&mid=2247688503&idx=5&sn=2e15956311fb82db5d23d84663e48c77&chksm=e8df5645dfa8df53817bf1d26aed8bb53607b9e295dc118c71beb1221424a4271dfb241a049e&scene=21#wechat_redirect) ，效率提高了5个量级。而且生成的攻击可解释性强，谁都能看懂，还能迁移到其它模型。  
  
无论是开源模型还是闭源模型，GPT-3.5、GPT-4、 Vicuna（Llama 2变种）、PaLM-2等，一个都跑不掉。  
  
成功率可达60-100%，拿下新SOTA。  
  
话说，这种对话模式好像有些似曾相识。多年前的初代AI，20个问题之内就能破解人类脑中想的是什么对象。  
  
如今轮到AI来破解AI了。![](https://ai.programnotes.cn/img/ai/1294ed15d618af41de3829845bf27141.)  
  
  
![](https://ai.programnotes.cn/img/ai/f8748abd42991721f9790e31e7c3231e.png)  
## 让大模型集体越狱  
  
目前主流越狱攻击方法有两类，一种是提示级攻击，一般需要人工策划，而且不可扩展；  
  
另一种是基于token的攻击，有的需要超十万次对话，且需要访问模型内部，  
还包含“乱码”不可解释。  

宾夕法尼亚大学研究团队提出了一种叫**PAIR**（Prompt Automatic Iterative Refinement）的算法，不需要任何人工参与，是一种全自动提示攻击方法。  
  
![](https://ai.programnotes.cn/img/ai/517dc876aef762c11a33262298005d4a.png)  
  
PAIR涉及四个主要步骤：攻击生成、目标响应、越狱评分和迭代细化；主要用到两个黑盒模型：攻击模型、目标模型。  
  
具体来说，攻击模型需要自动生成语义级别的提示，来攻破目标模型的安全防线，迫使其生成有害内容。  
  
核心思路是让两个模型相互对抗、你来我往地交流。  
  
攻击模型会自动生成一个候选提示，然后输入到目标模型中，得到目标模型的回复。  
  
如果这次回复没有成功攻破目标模型，那么攻击模型会分析这次失败的原因，改进并生成一个新的提示，再输入到目标模型中。  
  
![](https://ai.programnotes.cn/img/ai/89aae471cea507667c80f9036be9b345.gif)  
  
这样持续交流多轮，攻击模型每次根据上一次的结果来迭代优化提示，直到生成一个成功的提示将目标模型攻破。  
  
此外，迭代过程还可以并行，也就是可以**同时运行多个对话**，从而产生多个候选越狱提示，进一步提高了效率。  
  
研究人员表示，由于两个模型都是黑盒模型，所以攻击者和目标对象可以用各种语言模型自由组合。  
  
PAIR不需要知道它们内部的具体结构和参数，只需要API即可，因此适用范围非常广。  
## GPT-4也没能逃过  
  
实验阶段，研究人员在有害行为数据集AdvBench中选出了一个具有代表性的、包含50个不同类型任务的测试集，在多种开源和闭源大语言模型上测试了PAIR算法。  
  
结果PAIR算法让Vicuna越狱成功率达到了100%，平均不到12步就能攻破。  
  
![](https://ai.programnotes.cn/img/ai/7130e65dd6928487c394d372c9165400.png)  
  
闭源模型中，GPT-3.5和GPT-4越狱成功率在60%左右，平均用了不到20步。在PaLM-2上成功率达到72%，步数约为15步。  
  
但是PAIR在Llama-2和Claude上的效果较差，研究人员认为这可能是因为这些模型在安全防御上做了更为严格的微调。  
  
他们还比较了不同目标模型的可转移性。结果显示，PAIR的GPT-4提示在Vicuna和PaLM-2上转移效果较好。  
  
![](https://ai.programnotes.cn/img/ai/c7f9bf4567a7fae1f2646992854656ec.png)  
  
研究人员认为，PAIR生成的语义攻击更能暴露语言模型固有的安全缺陷，而现有的安全措施更侧重防御基于token的攻击。  
  
就比如开发出GCG算法的团队，将研究结果分享给OpenAI、Anthropic和Google等大模型厂商后，相关模型修复了token级攻击漏洞。  
  
![](https://ai.programnotes.cn/img/ai/becaa124c41374eabed946e727b9e4ab.jpeg)  
  
大模型针对语义攻击的安全防御机制还有待完善。  
  
论文链接：https://arxiv.org/abs/2310.08419  
  
参考链接：https://x.com/llm_sec/status/1718932383959752869?s=20  
